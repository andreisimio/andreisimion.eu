---
interface Props {
  title: string;
  description: string;
  date: Date;
  tags?: string[];
  slug: string;
}

const { title, description, date, tags = [], slug } = Astro.props;
const formattedDate = date.toLocaleDateString("en-US", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
---

<article class="card p-6 group animate-on-scroll">
  <div class="flex flex-wrap gap-2 mb-3">
    {tags.slice(0, 3).map((tag) => (
      <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-300">
        {tag}
      </span>
    ))}
  </div>
  <h3 class="heading-3 mb-2 group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors">
    <a href={`/blog/${slug}`} class="block">
      {title}
    </a>
  </h3>
  <p class="text-sm text-muted leading-relaxed mb-4">{description}</p>
  <div class="flex items-center justify-between">
    <time datetime={date.toISOString()} class="text-xs text-muted">
      {formattedDate}
    </time>
    <a
      href={`/blog/${slug}`}
      class="text-sm font-medium text-brand-600 dark:text-brand-400 hover:underline"
    >
      Read more
    </a>
  </div>
</article>
